<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Object</title>
   </head>
   <body>
      <script>
         /**
          * In JS ogni elemento può essere un oggetto: cariabile, array, date, stringhe, espressioni
          * matematiche.
          * Gli attributi principali degli oggetti sono:
          * 1. Proprietà, cioè le caratteristiche possedute e che definiscono gli elementi dell'oggetto
          * 2. Metodi, cioè funzioni che possono essere svolte dall'oggetto
          *
          */

         // Le proprietà sono definite dai nomi associati ai valori
         let pet = {
            specie: "gatto",
            nome: "Tigro",
         }; //=> specie e nome sono due proprietà dell'oggetto pet

         // Il metodo definito da una funzione anonima è parte integrante dell'oggetto
         pet = {
            specie: "gatto",
            nome: "Tigro",
            tipo: function () {
               return this.specie + this.nome;
            },
         }; //=> this all'interno di un oggetto si riferisce all'oggetto stesso

         /**
          * Creazione di oggetti manualmente
          * -------------------------------------
          * Sconsigliata perchè dovrei creare a mano ogni singolo oggetto, pertanto per modificarlo lo
          * potrei fare solo a mano
          */
         let margherita = {
            gusto: "Margherita",
            prezzo: 5,
            disponibile: true,
            mostraPrezzo: () => {
               console.log(`Il prezzo della pizza Margherita è di 5€`);
            },
         };

         let diavola = {
            gusto: "Diavola",
            prezzo: 1,
            disponibile: true,
            mostraPrezzo: () => {
               console.log(`Il prezzo della pizza Diavola è di 1€`);
            },
         };

         console.log(margherita); // mi restituisce l'oggetto dichiarato sopra

         // per richiamare il metodo devo aggiungere le parentesi () alla fine, altrimenti non funziona
         margherita.mostraPrezzo();
         diavola.mostraPrezzo();

         /**
          * In questo esempio andremo a fissare un paio di punti:
          * 1. come rendere dinamica la lettura delle proprietà
          * 2. come all'interno della funzione arrow non funzioni correttamente la lettura del valore
          *    se utilizzo la keyword this, questo succede perchè in questo caso this va riferirsi allo
          *    oggetto window
          *
          */
         let boscaiola = {
            gusto: "Boscaiola",
            prezzo: 8,
            disponibile: true,
            mostraPrezzo: () => {
               console.log(
                  `Il prezzo della pizza Boscaiola è di ${this.prezzo}`
               );
               console.log(this); // testo quello che ho scritto al punto 2, cioè che this punta a window
            },
         };

         boscaiola.mostraPrezzo();

         // sostituisco l'arrow function con una funzione anonima, ora this lavorerà nel modo che vogliamo
         let romana = {
            gusto: "Boscaiola",
            prezzo: 8,
            disponibile: true,
            mostraPrezzo: function () {
               console.log(`Il prezzo della pizza Romana è di ${this.prezzo}`);
               console.log(this); // tutto l'oggetto romana
            },
         };

         romana.mostraPrezzo();

         /**
          * Ora vediamo come aggiungere ... nel caso in cui abbiamo creato a mano 30 oggetti e ci troviamo nella condizione di dover cambiare qualcosa
          */
      </script>
   </body>
</html>
